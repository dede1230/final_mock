<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.fpt.hurst.mapper.CakeMapper">

    <resultMap id="CakeResult" type="Cake">
        <id property="id" column="id" />
        <result property="name" column="name" />
        <result property="price" column="price" />
        <result property="description" column="description" />
        <result property="image" column="image" />
        <result property="createAt" column="created_at" />
        <result property="updateAt" column="updated_at" />
    </resultMap>


    <select id="getCakeList" resultMap="CakeResult"> 
        select 
            id, 
            name, 
            price,
            description,
            information, 
            image, 
            likes, 
            created_at,
            updated_at 
        from 
            CAKE 
        where
            1=1 
        <if test="name != null">
            and name like concat('%', #{name}, '%')
        </if>
    </select>

    <select id="getCakeById" resultMap="CakeResult">
        select 
            id, 
            name, 
            price, 
            description,
            information, 
            image, 
            likes, 
            created_at,
            updated_at 
        from 
            CAKE 
        where 
            1 = 1 
        <if test="id != null">
            and id = #{id}
        </if>
    </select>

</mapper>